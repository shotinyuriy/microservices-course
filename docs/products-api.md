# Products Resource [/catalog]

## Data model
Every product must have the folowing properties:
1. name - a string, must be unique
1. category - must be a string value from a string enumeration (books, clothing, electronic devices)
1. price - must be a double numeric value greater or equal zero
1. childSkus - are mandatory for clothing and electronic devices only. A SKU stands for a store keeping unit. 
Every SKU must have its unique id. 
But for product model consistency we can also use them for books with a single default SKU.
    1. a SKU for clothing must have following properties:
        1. size - a string value representing clothing size: (XS, S, 46, 34x34 etc.)
    1. a SKU for electronic device must have following properties:
        1. color - a string property describing color: (white, black, silver, red etc.)
1. currency is nice to have for the future, but by default we can expect all prices are in USD or EUR
Product ids and SKU ids should be generated by the application.

Application API is provided below:
## GET /catalog/products
### Successful Response
+ Response 200 OK
```json
[
    {
      "id": "0123456789",
      "name": "Champions T-Shirt",
      "category": "clothing",
      "price": 12.99,
      "currency": "USD"
    },
    {
      "id": "0123456780",
      "name": "Champions Watches",
      "category": "electronic devices",
      "price": 22.99,
      "currency": "USD"
    }
]
```

## POST /catalog/products
### Child skus are empty
+ Request
```json
{
  "name": "Harry Potter and Hidden Room",
  "price": 24.99,
  "currency": "USD",
  "category": "books",
  "childSkus": []
}
```

### Child skus are not empty
+ Request
```json
{
  "name": "Champions Watches",
  "price": 22.99,
  "currency": "USD",
  "category": "electronic device",
  "childSkus": [
    {
      "color": "white"
    },
    {
      "color": "black"
    },
    {
      "color": "silver"
    }
  ]
}
```

### Successful Creation
if the child skus array is empty then the service must create a default SKU with just a SKU id
+ Response 201
```json
{
  "link": "/catalog/products/{productId}"
}
```
+ Reponse 400
```json
{
  "errors": [
    {
      "errorCode": "error.category.invalid",
      "value": "invalidCategory2"
    },
    {
      "errorCode": "error.category.empty"
    },
    {
      "errorCode": "error.name.empty"
    },
    {
      "errorCode": "error.price.empty"
    },
    {
      "errorCode": "error.price.tooSmall"
    },
    {
      "errorCode": "error.childSkus.empty"
    }
  ]
}
```

## GET /catalog/products/{productId}
+ Response 200 OK
```json
{
  "id": "01234567890",
  "name": "Harry Potter and Hidden Room",
  "price": 24.99,
  "currency": "USD",
  "category": "books",
  "childSkus": [
    {
      "id": "sku001"
    }
  ]
}
```

### Product with id does not exist
+ Response 404 Not Found

## PATCH /catalog/products/{productId}
```json
{
  "name": "Harry Potter and Hidden Room",
  "price": 25.99,
  "currency": "USD",
  "category": "books",
  "childSkus": [
      {
        "id": "sku001"
      }
  ]
}
```

### Successful Update
+ Response 200 OK

### Product to update does not exist
+ Response 404 Not Found

## DELETE /catalog/products/{productId}

### Successful Deletion
+ Response 204 No Content

### Product to delete does not exist
+ Response 404 Not Found